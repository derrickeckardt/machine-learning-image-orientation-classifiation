   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        2    0.000    0.000    0.000    0.000 :0(__subclasses__)
        4    0.000    0.000    0.000    0.000 :0(add)
  3734776   19.440    0.000   19.440    0.000 :0(extend)
      500    0.008    0.000    0.008    0.000 :0(get)
      102    0.004    0.000    0.004    0.000 :0(getattr)
      100    0.000    0.000    0.004    0.000 :0(isinstance)
      3/1    0.000    0.000    0.000    0.000 :0(issubclass)
      100    0.004    0.000    0.004    0.000 :0(iter)
      100    0.000    0.000    0.000    0.000 :0(iteritems)
        1    0.000    0.000    0.000    0.000 :0(len)
      100    0.000    0.000    0.000    0.000 :0(max)
        2    0.000    0.000    0.000    0.000 :0(open)
        2    0.000    0.000    0.000    0.000 :0(remove)
        1    0.004    0.004    0.004    0.004 :0(setprofile)
      100    2.360    0.024    2.360    0.024 :0(sorted)
    37076    0.460    0.000    0.460    0.000 :0(split)
  3697600   23.140    0.000   23.140    0.000 :0(sum)
  3697600   40.532    0.000   40.532    0.000 :0(zip)
        1    0.032    0.032  287.936  287.936 <string>:1(<module>)
        2    0.000    0.000    0.000    0.000 _abcoll.py:98(__subclasshook__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:16(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:20(__enter__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:26(__exit__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:36(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:52(_commit_removals)
        4    0.000    0.000    0.000    0.000 _weakrefset.py:58(__iter__)
      201    0.000    0.000    0.000    0.000 _weakrefset.py:70(__contains__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:83(add)
      100    0.000    0.000    0.004    0.000 abc.py:128(__instancecheck__)
      2/1    0.000    0.000    0.000    0.000 abc.py:148(__subclasscheck__)
      100    0.000    0.000    0.012    0.000 collections.py:438(__init__)
      100    0.004    0.000    0.008    0.000 collections.py:457(most_common)
      100    0.000    0.000    0.012    0.000 collections.py:501(update)
      100    0.000    0.000    0.004    0.000 heapq.py:436(nlargest)
        2    3.532    1.766    4.196    2.098 orient.py:39(import_images)
  3697600  152.580    0.000  216.252    0.000 orient.py:68(euclidean)
        1   45.840   45.840  287.904  287.904 orient.py:80(nearest_test)
        1    0.000    0.000  287.940  287.940 profile:0(nearest_test(model_file,input_file))
        0    0.000             0.000          profile:0(profiler)
        

second version of euclidean

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        2    0.000    0.000    0.000    0.000 :0(__subclasses__)
        4    0.000    0.000    0.000    0.000 :0(add)
  3734776   19.708    0.000   19.708    0.000 :0(extend)
      500    0.000    0.000    0.000    0.000 :0(get)
      102    0.004    0.000    0.004    0.000 :0(getattr)
      100    0.000    0.000    0.004    0.000 :0(isinstance)
      3/1    0.000    0.000    0.000    0.000 :0(issubclass)
      100    0.004    0.000    0.004    0.000 :0(iter)
      100    0.000    0.000    0.000    0.000 :0(iteritems)
  3697601   17.400    0.000   17.400    0.000 :0(len)
      100    0.000    0.000    0.000    0.000 :0(max)
        2    0.000    0.000    0.000    0.000 :0(open)
  3697600   23.108    0.000   23.108    0.000 :0(range)
        2    0.000    0.000    0.000    0.000 :0(remove)
        1    0.000    0.000    0.000    0.000 :0(setprofile)
      100    2.196    0.022    2.196    0.022 :0(sorted)
    37076    0.464    0.000    0.464    0.000 :0(split)
  3697600   27.276    0.000   27.276    0.000 :0(sum)
        1    0.032    0.032  316.920  316.920 <string>:1(<module>)
        2    0.000    0.000    0.000    0.000 _abcoll.py:98(__subclasshook__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:16(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:20(__enter__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:26(__exit__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:36(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:52(_commit_removals)
        4    0.000    0.000    0.000    0.000 _weakrefset.py:58(__iter__)
      201    0.000    0.000    0.000    0.000 _weakrefset.py:70(__contains__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:83(add)
      100    0.000    0.000    0.004    0.000 abc.py:128(__instancecheck__)
      2/1    0.000    0.000    0.000    0.000 abc.py:148(__subclasscheck__)
      100    0.004    0.000    0.012    0.000 collections.py:438(__init__)
      100    0.004    0.000    0.012    0.000 collections.py:457(most_common)
      100    0.004    0.000    0.008    0.000 collections.py:501(update)
      100    0.004    0.000    0.008    0.000 heapq.py:436(nlargest)
        2    3.112    1.556    3.804    1.902 orient.py:39(import_images)
  3697600  177.852    0.000  245.636    0.000 orient.py:68(euclidean)
        1   45.748   45.748  316.888  316.888 orient.py:81(nearest_test)
        1    0.000    0.000  316.920  316.920 profile:0(nearest_test(model_file,input_file))
        0    0.000             0.000          profile:0(profiler)

third version - no eucledian , formula straight in code

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        2    0.000    0.000    0.000    0.000 :0(__subclasses__)
        4    0.000    0.000    0.000    0.000 :0(add)
  3734776   20.056    0.000   20.056    0.000 :0(extend)
      500    0.008    0.000    0.008    0.000 :0(get)
      102    0.000    0.000    0.000    0.000 :0(getattr)
      100    0.000    0.000    0.008    0.000 :0(isinstance)
      3/1    0.000    0.000    0.000    0.000 :0(issubclass)
      100    0.000    0.000    0.000    0.000 :0(iter)
      100    0.004    0.000    0.004    0.000 :0(iteritems)
        2    0.000    0.000    0.000    0.000 :0(len)
      100    0.000    0.000    0.000    0.000 :0(max)
        2    0.000    0.000    0.000    0.000 :0(open)
        1    0.000    0.000    0.000    0.000 :0(range)
        2    0.000    0.000    0.000    0.000 :0(remove)
        1    0.000    0.000    0.000    0.000 :0(setprofile)
      100    2.324    0.023    2.324    0.023 :0(sorted)
    37076    0.532    0.000    0.532    0.000 :0(split)
  3697600   31.056    0.000   31.056    0.000 :0(sum)
        1    0.032    0.032  205.096  205.096 <string>:1(<module>)
        2    0.000    0.000    0.000    0.000 _abcoll.py:98(__subclasshook__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:16(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:20(__enter__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:26(__exit__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:36(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:52(_commit_removals)
        4    0.000    0.000    0.000    0.000 _weakrefset.py:58(__iter__)
      201    0.000    0.000    0.000    0.000 _weakrefset.py:70(__contains__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:83(add)
      100    0.008    0.000    0.008    0.000 abc.py:128(__instancecheck__)
      2/1    0.000    0.000    0.000    0.000 abc.py:148(__subclasscheck__)
      100    0.000    0.000    0.032    0.000 collections.py:438(__init__)
      100    0.004    0.000    0.012    0.000 collections.py:457(most_common)
      100    0.016    0.000    0.032    0.000 collections.py:501(update)
      100    0.004    0.000    0.004    0.000 heapq.py:436(nlargest)
        2    3.280    1.640    3.984    1.992 orient.py:39(import_images)
        1  147.772  147.772  205.064  205.064 orient.py:84(nearest_test)
        1    0.000    0.000  205.096  205.096 profile:0(nearest_test(model_file,input_file))
        0    0.000             0.000          profile:0(profiler)
        
Most recent

         7475298 function calls (7475295 primitive calls) in 198.244 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        2    0.000    0.000    0.000    0.000 :0(__subclasses__)
        4    0.000    0.000    0.000    0.000 :0(add)
  3734776   19.664    0.000   19.664    0.000 :0(extend)
     4500    0.028    0.000    0.028    0.000 :0(get)
      102    0.000    0.000    0.000    0.000 :0(getattr)
      100    0.004    0.000    0.008    0.000 :0(isinstance)
      3/1    0.000    0.000    0.000    0.000 :0(issubclass)
      100    0.000    0.000    0.000    0.000 :0(iter)
      100    0.000    0.000    0.000    0.000 :0(iteritems)
        3    0.000    0.000    0.000    0.000 :0(len)
      100    0.000    0.000    0.000    0.000 :0(max)
        2    0.000    0.000    0.000    0.000 :0(open)
        1    0.000    0.000    0.000    0.000 :0(range)
        2    0.000    0.000    0.000    0.000 :0(remove)
        1    0.000    0.000    0.000    0.000 :0(setprofile)
      100    2.396    0.024    2.396    0.024 :0(sorted)
    37076    0.452    0.000    0.452    0.000 :0(split)
  3697600   28.796    0.000   28.796    0.000 :0(sum)
        1    0.032    0.032  198.244  198.244 <string>:1(<module>)
        2    0.000    0.000    0.000    0.000 _abcoll.py:98(__subclasshook__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:16(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:20(__enter__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:26(__exit__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:36(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:52(_commit_removals)
        4    0.000    0.000    0.000    0.000 _weakrefset.py:58(__iter__)
      201    0.000    0.000    0.000    0.000 _weakrefset.py:70(__contains__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:83(add)
      100    0.004    0.000    0.004    0.000 abc.py:128(__instancecheck__)
      2/1    0.000    0.000    0.000    0.000 abc.py:148(__subclasscheck__)
      100    0.000    0.000    0.072    0.001 collections.py:438(__init__)
      100    0.000    0.000    0.008    0.000 collections.py:457(most_common)
      100    0.036    0.000    0.072    0.001 collections.py:501(update)
      100    0.008    0.000    0.008    0.000 heapq.py:436(nlargest)
        2    3.132    1.566    3.744    1.872 orient.py:39(import_images)
        1  143.692  143.692  198.212  198.212 orient.py:83(nearest_test)
        1    0.000    0.000  198.244  198.244 profile:0(nearest_test(model_file,input_file, 45))
        0    0.000             0.000          profile:0(profiler)
        
Final version

Classifying via k-Nearest Neighbors algorithm.
Loading training images from 'model_file.txt'.
Loading test images from 'test-data.txt'.
Classifying 943 images. Estimated runtime is 250.000 minutes.
         1119040 function calls (1119037 primitive calls) in 297.376 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        2    0.000    0.000    0.000    0.000 :0(__subclasses__)
        4    0.000    0.000    0.000    0.000 :0(add)
   368349    2.016    0.000    2.016    0.000 :0(extend)
    42435    0.228    0.000    0.228    0.000 :0(get)
      945    0.008    0.000    0.008    0.000 :0(getattr)
      943    0.024    0.000    0.064    0.000 :0(isinstance)
      3/1    0.000    0.000    0.000    0.000 :0(issubclass)
      943    0.004    0.000    0.004    0.000 :0(iter)
      943    0.004    0.000    0.004    0.000 :0(iteritems)
        3    0.000    0.000    0.000    0.000 :0(len)
      943    0.024    0.000    0.024    0.000 :0(max)
        2    0.000    0.000    0.000    0.000 :0(open)
   329487    2.056    0.000    2.056    0.000 :0(pop)
        2    0.000    0.000    0.000    0.000 :0(range)
        2    0.000    0.000    0.000    0.000 :0(remove)
        1    0.000    0.000    0.000    0.000 :0(setprofile)
   329487    5.024    0.000    5.024    0.000 :0(sorted)
    37919    0.488    0.000    0.488    0.000 :0(split)
        1    0.036    0.036  297.376  297.376 <string>:1(<module>)
        2    0.000    0.000    0.000    0.000 _abcoll.py:98(__subclasshook__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:16(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:20(__enter__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:26(__exit__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:36(__init__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:52(_commit_removals)
        4    0.000    0.000    0.000    0.000 _weakrefset.py:58(__iter__)
     1887    0.012    0.000    0.012    0.000 _weakrefset.py:70(__contains__)
        2    0.000    0.000    0.000    0.000 _weakrefset.py:83(add)
      943    0.020    0.000    0.040    0.000 abc.py:128(__instancecheck__)
      2/1    0.000    0.000    0.000    0.000 abc.py:148(__subclasscheck__)
      943    0.012    0.000    0.576    0.001 collections.py:438(__init__)
      943    0.012    0.000    0.104    0.000 collections.py:457(most_common)
      943    0.272    0.000    0.564    0.001 collections.py:501(update)
      943    0.060    0.000    0.088    0.000 heapq.py:436(nlargest)
        2    3.644    1.822    4.320    2.160 orient.py:41(import_images)
        1  283.432  283.432  297.340  297.340 orient.py:85(nearest_test)
        1    0.000    0.000  297.376  297.376 profile:0(nearest_test(model_file,input_file, 45))
        0    0.000             0.000          profile:0(profiler)